{"ast":null,"code":"import { getDocument } from '@uifabric/utilities';\nimport * as React from 'react';\nimport { useWindow } from '@fluentui/react-window-provider';\n/**\n * Hook to calculate and cache the target element specified by the given target attribute,\n * as well as the target element's (or host element's) parent window\n * @param target- Target selector passed to the component as a property, describing the element that\n * the callout should target\n * @param hostElement- The callout's host element, used for determining the parent window.\n */\n\nexport function useTarget(target, hostElement) {\n  var _a;\n\n  var previousTargetProp = React.useRef();\n  var targetRef = React.useRef(null);\n  /**\n   * Stores an instance of Window, used to check\n   * for server side rendering and if focus was lost.\n   */\n\n  var targetWindow = useWindow(); // If the target element changed, find the new one. If we are tracking\n  // target with class name, always find element because we do not know if\n  // fabric has rendered a new element and disposed the old element.\n\n  if (!target || target !== previousTargetProp.current || typeof target === 'string') {\n    var currentElement = (_a = hostElement) === null || _a === void 0 ? void 0 : _a.current;\n\n    if (target) {\n      if (typeof target === 'string') {\n        var currentDoc = getDocument(currentElement);\n        targetRef.current = currentDoc ? currentDoc.querySelector(target) : null;\n      } else if ('stopPropagation' in target) {\n        targetRef.current = target;\n      } else if ('getBoundingClientRect' in target) {\n        targetRef.current = target;\n      } else if ('current' in target) {\n        targetRef.current = target.current;\n      } else {\n        targetRef.current = target;\n      }\n    }\n\n    previousTargetProp.current = target;\n  }\n\n  return [targetRef, targetWindow];\n}","map":null,"metadata":{},"sourceType":"module"}