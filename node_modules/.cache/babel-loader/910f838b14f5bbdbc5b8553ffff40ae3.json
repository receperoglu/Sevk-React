{"ast":null,"code":"import { __assign, __extends } from \"tslib\";\nimport * as React from 'react';\nimport { warnDeprecations, classNamesFunction, divProperties, getNativeProps } from '../../Utilities';\nimport { TooltipHost, TooltipOverflowMode, DirectionalHint } from '../../Tooltip';\nimport { PersonaCoin } from './PersonaCoin/PersonaCoin';\nimport { PersonaPresence as PersonaPresenceEnum, PersonaSize } from './Persona.types';\nvar getClassNames = classNamesFunction();\n/**\n * Persona with no default styles.\n * [Use the `styles` API to add your own styles.](https://github.com/microsoft/fluentui/wiki/Styling)\n */\n\nvar PersonaBase =\n/** @class */\nfunction (_super) {\n  __extends(PersonaBase, _super);\n\n  function PersonaBase(props) {\n    var _this = _super.call(this, props) || this;\n\n    _this._onRenderPersonaCoin = function (props) {\n      return React.createElement(PersonaCoin, __assign({}, props));\n    };\n\n    if (process.env.NODE_ENV !== 'production') {\n      warnDeprecations('Persona', props, {\n        primaryText: 'text'\n      });\n    }\n\n    return _this;\n  }\n\n  PersonaBase.prototype.render = function () {\n    // wrapping default render behavior based on various this.props properties\n    var _onRenderPrimaryText = this._onRenderText(this._getText());\n\n    var _onRenderSecondaryText = this._onRenderText(this.props.secondaryText);\n\n    var _onRenderTertiaryText = this._onRenderText(this.props.tertiaryText);\n\n    var _onRenderOptionalText = this._onRenderText(this.props.optionalText);\n\n    var _a = this.props,\n        hidePersonaDetails = _a.hidePersonaDetails,\n        _b = _a.onRenderOptionalText,\n        onRenderOptionalText = _b === void 0 ? _onRenderOptionalText : _b,\n        _c = _a.onRenderPrimaryText,\n        onRenderPrimaryText = _c === void 0 ? _onRenderPrimaryText : _c,\n        _d = _a.onRenderSecondaryText,\n        onRenderSecondaryText = _d === void 0 ? _onRenderSecondaryText : _d,\n        _e = _a.onRenderTertiaryText,\n        onRenderTertiaryText = _e === void 0 ? _onRenderTertiaryText : _e,\n        _f = _a.onRenderPersonaCoin,\n        onRenderPersonaCoin = _f === void 0 ? this._onRenderPersonaCoin : _f;\n    var size = this.props.size; // These properties are to be explicitly passed into PersonaCoin because they are the only props directly used\n\n    var _g = this.props,\n        allowPhoneInitials = _g.allowPhoneInitials,\n        className = _g.className,\n        coinProps = _g.coinProps,\n        showUnknownPersonaCoin = _g.showUnknownPersonaCoin,\n        coinSize = _g.coinSize,\n        styles = _g.styles,\n        imageAlt = _g.imageAlt,\n        imageInitials = _g.imageInitials,\n        imageShouldFadeIn = _g.imageShouldFadeIn,\n        imageShouldStartVisible = _g.imageShouldStartVisible,\n        imageUrl = _g.imageUrl,\n        initialsColor = _g.initialsColor,\n        isOutOfOffice = _g.isOutOfOffice,\n        onPhotoLoadingStateChange = _g.onPhotoLoadingStateChange,\n        // eslint-disable-next-line deprecation/deprecation\n    onRenderCoin = _g.onRenderCoin,\n        onRenderInitials = _g.onRenderInitials,\n        presence = _g.presence,\n        presenceTitle = _g.presenceTitle,\n        presenceColors = _g.presenceColors,\n        showInitialsUntilImageLoads = _g.showInitialsUntilImageLoads,\n        showSecondaryText = _g.showSecondaryText,\n        theme = _g.theme;\n\n    var personaCoinProps = __assign({\n      allowPhoneInitials: allowPhoneInitials,\n      showUnknownPersonaCoin: showUnknownPersonaCoin,\n      coinSize: coinSize,\n      imageAlt: imageAlt,\n      imageInitials: imageInitials,\n      imageShouldFadeIn: imageShouldFadeIn,\n      imageShouldStartVisible: imageShouldStartVisible,\n      imageUrl: imageUrl,\n      initialsColor: initialsColor,\n      onPhotoLoadingStateChange: onPhotoLoadingStateChange,\n      onRenderCoin: onRenderCoin,\n      onRenderInitials: onRenderInitials,\n      presence: presence,\n      presenceTitle: presenceTitle,\n      showInitialsUntilImageLoads: showInitialsUntilImageLoads,\n      size: size,\n      text: this._getText(),\n      isOutOfOffice: isOutOfOffice,\n      presenceColors: presenceColors\n    }, coinProps);\n\n    var classNames = getClassNames(styles, {\n      theme: theme,\n      className: className,\n      showSecondaryText: showSecondaryText,\n      presence: presence,\n      size: size\n    });\n    var divProps = getNativeProps(this.props, divProperties);\n    var personaDetails = React.createElement(\"div\", {\n      className: classNames.details\n    }, this._renderElement(classNames.primaryText, onRenderPrimaryText, _onRenderPrimaryText), this._renderElement(classNames.secondaryText, onRenderSecondaryText, _onRenderSecondaryText), this._renderElement(classNames.tertiaryText, onRenderTertiaryText, _onRenderTertiaryText), this._renderElement(classNames.optionalText, onRenderOptionalText, _onRenderOptionalText), this.props.children);\n    return React.createElement(\"div\", __assign({}, divProps, {\n      className: classNames.root,\n      style: coinSize ? {\n        height: coinSize,\n        minWidth: coinSize\n      } : undefined\n    }), onRenderPersonaCoin(personaCoinProps, this._onRenderPersonaCoin), (!hidePersonaDetails || size === PersonaSize.size8 || size === PersonaSize.size10 || size === PersonaSize.tiny) && personaDetails\n    /* eslint-enable deprecation/deprecation */\n    );\n  };\n  /**\n   * Renders various types of Text (primaryText, secondaryText, etc)\n   * based on the classNames passed\n   * @param classNames - element className\n   * @param renderFunction - render function\n   * @param defaultRenderFunction - default render function\n   */\n\n\n  PersonaBase.prototype._renderElement = function (classNames, renderFunction, defaultRenderFunction) {\n    return React.createElement(\"div\", {\n      dir: \"auto\",\n      className: classNames\n    }, renderFunction && renderFunction(this.props, defaultRenderFunction));\n  };\n  /**\n   * Deprecation helper for getting text.\n   */\n\n\n  PersonaBase.prototype._getText = function () {\n    // eslint-disable-next-line deprecation/deprecation\n    return this.props.text || this.props.primaryText || '';\n  };\n  /**\n   * using closure to wrap the default render behavior\n   * to make it independent of the type of text passed\n   * @param text - text to render\n   */\n\n\n  PersonaBase.prototype._onRenderText = function (text) {\n    // return default render behaviour for valid text or undefined\n    return text ? function () {\n      // default onRender behaviour\n      return React.createElement(TooltipHost, {\n        content: text,\n        overflowMode: TooltipOverflowMode.Parent,\n        directionalHint: DirectionalHint.topLeftEdge\n      }, text);\n    } : undefined;\n  };\n\n  PersonaBase.defaultProps = {\n    size: PersonaSize.size48,\n    presence: PersonaPresenceEnum.none,\n    imageAlt: ''\n  };\n  return PersonaBase;\n}(React.Component);\n\nexport { PersonaBase };","map":null,"metadata":{},"sourceType":"module"}