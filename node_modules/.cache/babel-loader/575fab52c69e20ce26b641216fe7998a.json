{"ast":null,"code":"import * as React from 'react';\nimport { useConst } from './useConst';\n/**\n *  Returns a wrapper function for `setTimeout` which automatically handles disposal.\n */\n\nexport var useSetTimeout = function useSetTimeout() {\n  var timeoutIds = useConst({}); // Cleanup function.\n\n  React.useEffect(function () {\n    return function () {\n      for (var _i = 0, _a = Object.keys(timeoutIds); _i < _a.length; _i++) {\n        var id = _a[_i]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        clearTimeout(id);\n      }\n    };\n  }, // useConst ensures this will never change, but react-hooks/exhaustive-deps doesn't know that\n  [timeoutIds]); // Return wrapper which will auto cleanup.\n\n  return useConst({\n    setTimeout: function (_setTimeout) {\n      function setTimeout(_x, _x2) {\n        return _setTimeout.apply(this, arguments);\n      }\n\n      setTimeout.toString = function () {\n        return _setTimeout.toString();\n      };\n\n      return setTimeout;\n    }(function (func, duration) {\n      var id = setTimeout(func, duration);\n      timeoutIds[id] = 1;\n      return id;\n    }),\n    clearTimeout: function (_clearTimeout) {\n      function clearTimeout(_x3) {\n        return _clearTimeout.apply(this, arguments);\n      }\n\n      clearTimeout.toString = function () {\n        return _clearTimeout.toString();\n      };\n\n      return clearTimeout;\n    }(function (id) {\n      delete timeoutIds[id];\n      clearTimeout(id);\n    })\n  });\n};","map":null,"metadata":{},"sourceType":"module"}